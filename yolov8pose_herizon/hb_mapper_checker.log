2023-07-21 17:35:57,336 file: hb_mapper.py func: hb_mapper line No: 70 Start hb_mapper....
2023-07-21 17:35:57,337 file: hb_mapper.py func: hb_mapper line No: 71 log will be stored in /convert_model/horizon_model_convert_sample/04_detection/03_yolov8pose_zq/mapper/hb_mapper_checker.log
2023-07-21 17:35:57,337 file: hb_mapper.py func: hb_mapper line No: 72 hbdk version 3.27.4
2023-07-21 17:35:57,337 file: hb_mapper.py func: hb_mapper line No: 73 horizon_nn version 0.13.3
2023-07-21 17:35:57,337 file: hb_mapper.py func: hb_mapper line No: 74 hb_mapper version 1.6.8a
2023-07-21 17:35:57,337 file: hb_mapper.py func: hb_mapper line No: 76 parameter [output] is deprecated
2023-07-21 17:35:57,429 file: helper.py func: helper line No: 124 Model input names: ['data']
2023-07-21 17:35:57,430 file: hb_mapper_checker.py func: hb_mapper_checker line No: 104 Model type: onnx
2023-07-21 17:35:57,430 file: hb_mapper_checker.py func: hb_mapper_checker line No: 105 march: bernoulli2
2023-07-21 17:35:57,430 file: hb_mapper_checker.py func: hb_mapper_checker line No: 110 input names []
2023-07-21 17:35:57,430 file: hb_mapper_checker.py func: hb_mapper_checker line No: 111 input shapes {}
2023-07-21 17:35:57,431 file: hb_mapper_checker.py func: hb_mapper_checker line No: 117 Begin model checking....
2023-07-21 17:35:57,431 file: build.py func: build line No: 36 [Fri Jul 21 17:35:57 2023] Start to Horizon NN Model Convert.
2023-07-21 17:35:57,431 file: dict_parser.py func: dict_parser line No: 28 The input parameter is not specified, convert with default parameters.
2023-07-21 17:35:57,431 file: dict_parser.py func: dict_parser line No: 513 The hbdk parameter is not specified, and the submodel will be compiled with the default parameter.
2023-07-21 17:35:57,432 file: build.py func: build line No: 143 HorizonNN version: 0.13.3
2023-07-21 17:35:57,432 file: build.py func: build line No: 147 HBDK version: 3.27.4
2023-07-21 17:35:57,432 file: build.py func: build line No: 36 [Fri Jul 21 17:35:57 2023] Start to parse the onnx model.
2023-07-21 17:35:57,709 file: onnx_parser.py func: onnx_parser line No: 146 ONNX model info:
ONNX IR version:  6
Opset version:    11
Input name:       data, [1, 3, 640, 640]
2023-07-21 17:35:57,905 file: build.py func: build line No: 39 [Fri Jul 21 17:35:57 2023] End to parse the onnx model.
2023-07-21 17:35:57,906 file: build.py func: build line No: 266 Model input names: ['data']
2023-07-21 17:35:57,927 file: build.py func: build line No: 537 Saving the original float model: ./.hb_check/original_float_model.onnx.
2023-07-21 17:35:57,928 file: build.py func: build line No: 36 [Fri Jul 21 17:35:57 2023] Start to optimize the model.
2023-07-21 17:35:58,924 file: build.py func: build line No: 39 [Fri Jul 21 17:35:58 2023] End to optimize the model.
2023-07-21 17:35:58,948 file: build.py func: build line No: 548 Saving the optimized model: ./.hb_check/optimized_float_model.onnx.
2023-07-21 17:35:58,949 file: build.py func: build line No: 36 [Fri Jul 21 17:35:58 2023] Start to calibrate the model.
2023-07-21 17:35:59,124 file: calibration_data_set.py func: calibration_data_set line No: 67 There are 1 samples in the calibration data set.
2023-07-21 17:35:59,126 file: max_calibrater.py func: max_calibrater line No: 68 Run calibration model with max method.
2023-07-21 17:35:59,580 file: build.py func: build line No: 39 [Fri Jul 21 17:35:59 2023] End to calibrate the model.
2023-07-21 17:35:59,581 file: build.py func: build line No: 36 [Fri Jul 21 17:35:59 2023] Start to quantize the model.
2023-07-21 17:36:00,463 file: build.py func: build line No: 39 [Fri Jul 21 17:36:00 2023] End to quantize the model.
2023-07-21 17:36:00,583 file: build.py func: build line No: 562 Saving the quantized model: ./.hb_check/quantized_model.onnx.
2023-07-21 17:36:00,583 file: build.py func: build line No: 36 [Fri Jul 21 17:36:00 2023] Start to compile the model with march bernoulli2.
2023-07-21 17:36:00,583 file: dict_parser.py func: dict_parser line No: 518 Parsing the hbdk parameter:{'hbdk_pass_through_params': '--O0'}
2023-07-21 17:36:00,879 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_0
2023-07-21 17:36:01,235 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2023-07-21 17:36:02,398 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_1
2023-07-21 17:36:02,417 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2023-07-21 17:36:02,484 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_2
2023-07-21 17:36:02,502 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2023-07-21 17:36:02,546 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_3
2023-07-21 17:36:02,563 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2023-07-21 17:36:02,782 file: build.py func: build line No: 39 [Fri Jul 21 17:36:02 2023] End to compile the model with march bernoulli2.
2023-07-21 17:36:02,784 file: node_info.py func: node_info line No: 54 The converted model node information:
============================================================================================
Node                                               ON   Subgraph  Type                       
---------------------------------------------------------------------------------------------
Conv_0                                             BPU  id(0)     HzSQuantizedConv           
Conv_2                                             BPU  id(0)     HzSQuantizedConv           
Conv_4                                             BPU  id(0)     HzSQuantizedConv           
Split_6                                            BPU  id(0)     Split                      
Conv_7                                             BPU  id(0)     HzSQuantizedConv           
Conv_9                                             BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_11                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_153_0.102091550827026_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_154_0.102091550827026_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_12                                          BPU  id(0)     Concat                     
Conv_13                                            BPU  id(0)     HzSQuantizedConv           
Conv_15                                            BPU  id(0)     HzSQuantizedConv           
Conv_17                                            BPU  id(0)     HzSQuantizedConv           
Split_19                                           BPU  id(0)     Split                      
Conv_20                                            BPU  id(0)     HzSQuantizedConv           
Conv_22                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_24                               BPU  id(0)     HzSQuantizedConv           
Conv_25                                            BPU  id(0)     HzSQuantizedConv           
Conv_27                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_29                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_167_0.058226555585861_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_168_0.058226555585861_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_173_0.058226555585861_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_30                                          BPU  id(0)     Concat                     
Conv_31                                            BPU  id(0)     HzSQuantizedConv           
Conv_33                                            BPU  id(0)     HzSQuantizedConv           
Conv_35                                            BPU  id(0)     HzSQuantizedConv           
Split_37                                           BPU  id(0)     Split                      
Conv_38                                            BPU  id(0)     HzSQuantizedConv           
Conv_40                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_42                               BPU  id(0)     HzSQuantizedConv           
Conv_43                                            BPU  id(0)     HzSQuantizedConv           
Conv_45                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_47                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_186_0.045044675469398_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_187_0.045044675469398_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_192_0.045044675469398_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_48                                          BPU  id(0)     Concat                     
Conv_49                                            BPU  id(0)     HzSQuantizedConv           
Conv_51                                            BPU  id(0)     HzSQuantizedConv           
Conv_53                                            BPU  id(0)     HzSQuantizedConv           
Split_55                                           BPU  id(0)     Split                      
Conv_56                                            BPU  id(0)     HzSQuantizedConv           
Conv_58                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_60                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_205_0.044145390391350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_206_0.044145390391350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_61                                          BPU  id(0)     Concat                     
Conv_62                                            BPU  id(0)     HzSQuantizedConv           
Conv_64                                            BPU  id(0)     HzSQuantizedConv           
MaxPool_66                                         BPU  id(0)     HzQuantizedMaxPool         
MaxPool_67                                         BPU  id(0)     HzQuantizedMaxPool         
MaxPool_68                                         BPU  id(0)     HzQuantizedMaxPool         
Concat_69                                          BPU  id(0)     Concat                     
Conv_70                                            BPU  id(0)     HzSQuantizedConv           
Resize_73                                          BPU  id(0)     HzQuantizedResizeUpsample  
UNIT_CONV_FOR_200_0.038292985409498_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_74                                          BPU  id(0)     Concat                     
Conv_75                                            BPU  id(0)     HzSQuantizedConv           
Split_77                                           BPU  id(0)     Split                      
Conv_78                                            BPU  id(0)     HzSQuantizedConv           
Conv_80                                            BPU  id(0)     HzSQuantizedConv           
Concat_82                                          BPU  id(0)     Concat                     
Conv_83                                            BPU  id(0)     HzSQuantizedConv           
Resize_86                                          BPU  id(0)     HzQuantizedResizeUpsample  
UNIT_CONV_FOR_181_0.037524033337831_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_87                                          BPU  id(0)     Concat                     
Conv_88                                            BPU  id(0)     HzSQuantizedConv           
Split_90                                           BPU  id(0)     Split                      
Conv_91                                            BPU  id(0)     HzSQuantizedConv           
Conv_93                                            BPU  id(0)     HzSQuantizedConv           
Concat_95                                          BPU  id(0)     Concat                     
Conv_96                                            BPU  id(0)     HzSQuantizedConv           
Conv_98                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_239_0.044660877436399_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_100                                         BPU  id(0)     Concat                     
Conv_101                                           BPU  id(0)     HzSQuantizedConv           
Split_103                                          BPU  id(0)     Split                      
Conv_104                                           BPU  id(0)     HzSQuantizedConv           
Conv_106                                           BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_262_0.037210706621408_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_263_0.037210706621408_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_108                                         BPU  id(0)     Concat                     
Conv_109                                           BPU  id(0)     HzSQuantizedConv           
Conv_111                                           BPU  id(0)     HzSQuantizedConv           
Concat_113                                         BPU  id(0)     Concat                     
Conv_114                                           BPU  id(0)     HzSQuantizedConv           
Split_116                                          BPU  id(0)     Split                      
Conv_117                                           BPU  id(0)     HzSQuantizedConv           
Conv_119                                           BPU  id(0)     HzSQuantizedConv           
Concat_121                                         BPU  id(0)     Concat                     
Conv_122                                           BPU  id(0)     HzSQuantizedConv           
Conv_124                                           BPU  id(0)     HzSQuantizedConv           
Conv_126                                           BPU  id(0)     HzSQuantizedConv           
Conv_128                                           BPU  id(0)     HzSQuantizedConv           
Conv_129                                           BPU  id(0)     HzSQuantizedConv           
Conv_131                                           BPU  id(0)     HzSQuantizedConv           
Conv_133                                           BPU  id(0)     HzSQuantizedConv           
Conv_134                                           BPU  id(0)     HzSQuantizedConv           
Conv_136                                           BPU  id(0)     HzSQuantizedConv           
Conv_138                                           BPU  id(0)     HzSQuantizedConv           
Conv_139                                           BPU  id(0)     HzSQuantizedConv           
Conv_141                                           BPU  id(0)     HzSQuantizedConv           
Conv_143                                           BPU  id(0)     HzSQuantizedConv           
Conv_144                                           BPU  id(0)     HzSQuantizedConv           
Conv_146                                           BPU  id(0)     HzSQuantizedConv           
Conv_148                                           BPU  id(0)     HzSQuantizedConv           
Reshape_154                                        CPU  --        Reshape                    
Transpose_155                                      CPU  --        Transpose                  
Softmax_156                                        CPU  --        Softmax                    
Conv_158                                           BPU  id(1)     HzSQuantizedConv           
Conv_159                                           BPU  id(0)     HzSQuantizedConv           
Conv_161                                           BPU  id(0)     HzSQuantizedConv           
Conv_163                                           BPU  id(0)     HzSQuantizedConv           
Conv_164                                           BPU  id(0)     HzSQuantizedConv           
Conv_166                                           BPU  id(0)     HzSQuantizedConv           
Conv_168                                           BPU  id(0)     HzSQuantizedConv           
Reshape_174                                        CPU  --        Reshape                    
Transpose_175                                      CPU  --        Transpose                  
Softmax_176                                        CPU  --        Softmax                    
Conv_178                                           BPU  id(2)     HzSQuantizedConv           
Conv_179                                           BPU  id(0)     HzSQuantizedConv           
Conv_181                                           BPU  id(0)     HzSQuantizedConv           
Conv_183                                           BPU  id(0)     HzSQuantizedConv           
Conv_184                                           BPU  id(0)     HzSQuantizedConv           
Conv_186                                           BPU  id(0)     HzSQuantizedConv           
Conv_188                                           BPU  id(0)     HzSQuantizedConv           
Reshape_194                                        CPU  --        Reshape                    
Transpose_195                                      CPU  --        Transpose                  
Softmax_196                                        CPU  --        Softmax                    
Conv_198                                           BPU  id(3)     HzSQuantizedConv
2023-07-21 17:36:02,784 file: build.py func: build line No: 39 [Fri Jul 21 17:36:02 2023] End to Horizon NN Model Convert.
2023-07-21 17:36:02,790 file: onnx2horizonrt.py func: onnx2horizonrt line No: 2841 ONNX model output num : 9
2023-07-21 17:36:02,800 file: hb_mapper_checker.py func: hb_mapper_checker line No: 141 End model checking....
